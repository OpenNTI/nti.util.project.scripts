{
	"name": "@nti/workspace",
	"version": "1.0.0",
	"workspaces": [
		"./app/*",
		"./lib/*",
		"./style/*",
		"./util/*",
		"./scripts/packages/*",
		"./web/*",
		"!./server"
	],
	"scripts": {
		"#1": "npm7 currently has a bug where it will install the GIT version of deps even when its linked in the workspace...",
		"clean-dupes": "node -e \"p=require('path').dirname;require('glob').sync('./!(node_modules)/**/node_modules/@nti/').filter((x, i, a) => !a.slice(0,i).find(y => x.startsWith(y))).forEach(x => fs.promises.rm(x, {force: true, recursive:true}).then(() => fs.promises.rmdir(p(x))).catch(Boolean));\"",
		"#2": "Lerna isn't compatible with this workspace layout, so we just install it by itself",
		"install-lerna": "cd scripts; npm install --silent",
		"install-server": "cd server; npm install --silent",
		"#3": "There appears to be a bug with workspace installs not installing bundledDependencies... so we will install the service independently",
		"install-service": "cd app/service; npm install --silent",
		"preinstall": "npm run clean-dupes",
		"install": "concurrently \"npm:install-lerna\" \"npm:install-service\" \"npm:build\"",
		"postinstall": "npm run install-server",
		"build": "concurrently \"npm:build-*\"",
		"build-login": "cd app/login; npm run build -- --skip-checks",
		"build-mobile": "cd app/mobile; npm run build -- --skip-checks",
		"build-webapp": "cd app/webapp; npm run build -- --skip-checks"
	},
	"engines": {
		"npm": ">=7.5.2",
		"node": ">=14.0.0"
	},
	"dependencies": {
		"@nti/eslint-config-app-scripts": "*",
		"@nti/eslint-config-lib-scripts": "*",
		"@nti/stylelint-config-standard": "*",
		"concurrently": "^5.3.0"
	}
}
